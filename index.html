<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#000000">
    <link rel="apple-touch-icon" sizes="180x180" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 180 180'><rect fill='%231C1C1E' width='180' height='180' rx='40'/><text x='90' y='125' font-size='100' text-anchor='middle' fill='%23ffd700'>86</text></svg>">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'><rect fill='%231C1C1E' width='32' height='32' rx='6'/><text x='16' y='23' font-size='18' font-weight='bold' text-anchor='middle' fill='%23ffd700'>86</text></svg>">
    <title>The Order of 86 â€” Wizard Dogs of Pawtheon | Doginal Collection</title>
    <meta name="description" content="The Order of 86: 86 wizard dog NFTs on the Doge blockchain. Explore the lore of Pawtheon â€” 6 Orders, 7 Moons, 6 Cities, and a tower defense game. Collect yours today.">
    <meta name="robots" content="index, follow">
    <meta name="author" content="The Order of 86">
    <meta name="keywords" content="Order of 86, wizard dogs, Pawtheon, NFT, web3, digital collectibles, wizard dog NFT, lore, fantasy">
    <link rel="canonical" href="https://theorderof86.com/">
    <meta property="og:title" content="The Order of 86 â€” Wizard Dogs of Pawtheon | Doginal Collection">
    <meta property="og:description" content="86 wizard dog NFTs on the Doge blockchain. Explore the lore of Pawtheon â€” 6 Orders, 7 Moons, 6 Cities, and a tower defense game.">
    <meta property="og:image" content="https://theorderof86.com/og-image.jpg">
    <meta property="og:url" content="https://theorderof86.com/">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="The Order of 86">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="The Order of 86 â€” Wizard Dogs of Pawtheon | Doginal Collection">
    <meta name="twitter:description" content="86 wizard dog NFTs on the Doge blockchain. Explore the lore of Pawtheon â€” 6 Orders, 7 Moons, 6 Cities, and a tower defense game.">
    <meta name="twitter:image" content="https://theorderof86.com/og-image.jpg">
    <script type="application/ld+json">
    [{
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "The Order of 86",
        "url": "https://theorderof86.com",
        "logo": "https://theorderof86.com/og-image.jpg",
        "sameAs": ["https://twitter.com/theorderof86"]
    },
    {
        "@context": "https://schema.org",
        "@type": "CollectionPage",
        "name": "The Order of 86 â€” Wizard Dog NFT Collection",
        "description": "A collection of 86 unique wizard dog NFTs on the Doge blockchain, each with hand-crafted lore, belonging to one of six magical Orders in the world of Pawtheon.",
        "url": "https://theorderof86.com",
        "numberOfItems": 86
    },
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
            {"@type": "Question", "name": "What is The Order of 86?", "acceptedAnswer": {"@type": "Answer", "text": "The Order of 86 is a collection of 86 unique wizard dog NFTs on the Doge blockchain. Each wizard dog belongs to one of six magical Orders and has hand-crafted lore set in the world of Pawtheon."}},
            {"@type": "Question", "name": "What blockchain is The Order of 86 on?", "acceptedAnswer": {"@type": "Answer", "text": "The Order of 86 NFTs live on the Doge blockchain, known for fast, low-cost, and community-driven transactions."}},
            {"@type": "Question", "name": "How many wizard dogs are there?", "acceptedAnswer": {"@type": "Answer", "text": "There are exactly 86 wizard dogs in the collection â€” each one unique with individual traits, backstory, and magical abilities."}},
            {"@type": "Question", "name": "What are the six Orders?", "acceptedAnswer": {"@type": "Answer", "text": "The six Orders are: Flame, Radiant, Deep, Wild, Arcane, and Heart. Each Order represents a different school of magic in the world of Pawtheon."}},
            {"@type": "Question", "name": "What is Pawtheon?", "acceptedAnswer": {"@type": "Answer", "text": "Pawtheon is the fantasy world where the 86 wizard dogs live. It features 6 cities, 7 moons, and vast magical realms that you can explore through the interactive 3D map."}}
        ]
    },
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {"@type": "ListItem", "position": 1, "name": "Home", "item": "https://theorderof86.com/"},
            {"@type": "ListItem", "position": 2, "name": "Lore", "item": "https://theorderof86.com/lore"},
            {"@type": "ListItem", "position": 3, "name": "Map", "item": "https://theorderof86.com/map"},
            {"@type": "ListItem", "position": 4, "name": "Moons", "item": "https://theorderof86.com/moons"},
            {"@type": "ListItem", "position": 5, "name": "Game", "item": "https://theorderof86.com/game"},
            {"@type": "ListItem", "position": 6, "name": "Content", "item": "https://theorderof86.com/content"}
        ]
    }]
    </script>
    <style>
        /* â”€â”€ Reset & Tokens â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --color-bg: #000000;
            --color-surface: #1C1C1E;
            --color-surface-2: #2C2C2E;
            --color-surface-3: #3A3A3C;
            --color-text: #F5F5F7;
            --color-text-secondary: #98989D;
            --color-text-tertiary: #636366;
            --color-border: rgba(255,255,255,0.08);
            --color-separator: rgba(84,84,88,0.65);
            --color-accent: #c9a86c;
            --color-accent-bright: #ffd700;
            --color-accent-subtle: rgba(201,168,108,0.15);

            --color-flame: #FF6B00;
            --color-radiant: #F1C40F;
            --color-deep: #3498DB;
            --color-wild: #2ECC71;
            --color-arcane: #9B6EFF;
            --color-heart: #FF69B4;
            --color-wanderer: #9966ff;

            --font-sans: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            --shadow-sm: 0 1px 2px rgba(0,0,0,0.2), 0 1px 3px rgba(0,0,0,0.3);
            --shadow-md: 0 2px 4px rgba(0,0,0,0.2), 0 4px 12px rgba(0,0,0,0.35);
            --shadow-lg: 0 4px 8px rgba(0,0,0,0.2), 0 8px 24px rgba(0,0,0,0.4);
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
            --radius-full: 9999px;
            --transition-fast: 150ms cubic-bezier(0.25,0.1,0.25,1);
            --transition-normal: 300ms cubic-bezier(0.25,0.1,0.25,1);
        }

        html {
            scroll-behavior: smooth;
            scroll-padding-top: 72px;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            -webkit-text-size-adjust: 100%;
        }

        body {
            font-family: var(--font-sans);
            background: var(--color-bg);
            color: var(--color-text);
            line-height: 1.5;
            min-height: 100vh;
            font-size: clamp(14px, 3.5vw, 18px);
            overscroll-behavior: none;
        }

        /* â”€â”€ Nav Bar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

        /* â”€â”€ Container â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .container { max-width: 1200px; margin: 0 auto; padding: 0 16px; }

        /* â”€â”€ Hero â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .hero {
            position: relative;
            overflow: hidden;
            text-align: center;
            padding: 0;
            min-height: 280px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        /* Voxel canvas */
        #voxelCanvas { pointer-events: auto; }
        /* Text layer */
        .hero-text {
            position: relative;
            z-index: 10;
            padding: 48px 16px 32px;
        }
        .hero-title {
            font-size: clamp(2.4rem, 6vw, 4rem);
            font-weight: 800;
            letter-spacing: -0.02em;
            line-height: 1.1;
            background: linear-gradient(135deg, var(--color-accent-bright) 0%, var(--color-accent) 40%, #e8d5a3 70%, var(--color-accent-bright) 100%);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: shimmer 4s ease-in-out infinite;
            text-shadow: none;
        }
        @keyframes shimmer {
            0%, 100% { background-position: 0% center; }
            50% { background-position: 200% center; }
        }
        .hero-subtitle {
            font-size: clamp(1rem, 2vw, 1.2rem);
            color: var(--color-text-secondary);
            margin-top: 16px;
            font-weight: 400;
            max-width: 560px;
            margin-left: auto;
            margin-right: auto;
        }

        /* â”€â”€ Stats Bar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .stats-bar {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            gap: 8px;
            padding: 0 24px 16px;
            max-width: 800px;
            margin: 0 auto;
        }
        .stat-pill {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 4px 10px;
            background: transparent;
            border: none;
            font-size: 12px;
            font-weight: 500;
            color: var(--color-text-secondary);
            opacity: 0.7;
            transition: opacity 0.2s;
        }
        .stat-pill:hover { opacity: 1; }
        .stat-pill strong { color: var(--color-text); }
        .stat-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            flex-shrink: 0;
        }

        /* â”€â”€ Search & Filters â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .search-section {
            background: rgba(28,28,30,0.72);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-lg);
            padding: 24px;
            margin-bottom: 32px;
            text-align: center;
        }
        .search-box {
            width: 100%;
            padding: 14px 20px;
            font-size: 17px;
            font-family: var(--font-sans);
            font-weight: 500;
            border: 1px solid var(--color-border);
            border-radius: var(--radius-sm);
            background: var(--color-surface-2);
            color: var(--color-text);
            outline: none;
            transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
        }
        .search-box::placeholder { color: var(--color-text-tertiary); }
        .search-box:focus {
            border-color: var(--color-accent);
            box-shadow: 0 0 0 3px var(--color-accent-subtle);
        }

        .filter-row {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 8px;
            margin-top: 16px;
        }
        .filter-chip {
            padding: 8px 16px;
            border-radius: var(--radius-full);
            font-size: 13px;
            font-weight: 600;
            border: 1.5px solid;
            cursor: pointer;
            transition: all var(--transition-fast);
            background: transparent;
            font-family: var(--font-sans);
            letter-spacing: 0.02em;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
            user-select: none;
            min-height: 44px;
            display: inline-flex;
            align-items: center;
            flex-shrink: 0;
            white-space: nowrap;
        }
        .filter-chip:hover { transform: translateY(-1px); }
        .filter-chip:active { transform: scale(0.95); }
        .filter-chip.active { color: #fff !important; }
        .filter-chip[data-order="flame"] { color: var(--color-flame); border-color: var(--color-flame); }
        .filter-chip[data-order="flame"].active { background: var(--color-flame); }
        .filter-chip[data-order="radiant"] { color: var(--color-radiant); border-color: var(--color-radiant); }
        .filter-chip[data-order="radiant"].active { background: var(--color-radiant); color: #1C1C1E !important; }
        .filter-chip[data-order="deep"] { color: var(--color-deep); border-color: var(--color-deep); }
        .filter-chip[data-order="deep"].active { background: var(--color-deep); }
        .filter-chip[data-order="wild"] { color: var(--color-wild); border-color: var(--color-wild); }
        .filter-chip[data-order="wild"].active { background: var(--color-wild); }
        .filter-chip[data-order="arcane"] { color: var(--color-arcane); border-color: var(--color-arcane); }
        .filter-chip[data-order="arcane"].active { background: var(--color-arcane); }
        .filter-chip[data-order="heart"] { color: var(--color-heart); border-color: var(--color-heart); }
        .filter-chip[data-order="heart"].active { background: var(--color-heart); }
        .filter-chip[data-order="all"] { color: var(--color-text-secondary); border-color: var(--color-text-tertiary); }
        .filter-chip[data-order="all"].active { background: var(--color-surface-3); color: var(--color-text) !important; }

        /* â”€â”€ Card Grid â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
            margin-bottom: 48px;
            contain: layout style paint;
        }
        @media (max-width: 1024px) { .card-grid { grid-template-columns: repeat(3, 1fr); } }
        @media (max-width: 768px) { .card-grid { grid-template-columns: repeat(2, 1fr); } }
        @media (max-width: 480px) { .card-grid { grid-template-columns: repeat(2, 1fr); gap: 10px; } }
        @media (max-width: 360px) { .card-grid { grid-template-columns: 1fr; } }

        .dog-card {
            background: var(--color-surface);
            border-radius: var(--radius-lg);
            border: 1px solid var(--color-border);
            box-shadow: var(--shadow-sm);
            overflow: hidden;
            cursor: pointer;
            transition: transform var(--transition-normal), box-shadow var(--transition-normal);
            opacity: 0;
            transform: translateY(20px);
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
            contain: layout style paint;
            will-change: transform;
        }
        .dog-card.visible {
            opacity: 1;
            transform: translateY(0);
            transition: opacity 0.5s ease, transform 0.5s ease, box-shadow var(--transition-normal);
        }
        @media (hover: hover) {
            .dog-card:hover {
                transform: translateY(-4px) scale(1.02);
                box-shadow: var(--shadow-lg);
            }
        }
        .dog-card:active {
            transform: scale(0.98);
        }
        .dog-card.visible:hover {
            transform: translateY(-4px) scale(1.02);
        }
        .card-accent {
            height: 3px;
            width: 100%;
        }
        .card-img-wrap {
            width: 100%;
            aspect-ratio: 1;
            background: var(--color-surface-2);
            overflow: hidden;
            position: relative;
        }
        .card-img-wrap img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
        .card-rank-badge {
            position: absolute;
            top: 8px;
            right: 8px;
            background: rgba(0,0,0,0.7);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            color: var(--color-text-secondary);
            font-size: 11px;
            font-weight: 600;
            padding: 3px 8px;
            border-radius: var(--radius-full);
        }
        .card-body {
            padding: 14px 16px 16px;
        }
        .card-number {
            font-size: 11px;
            color: var(--color-text-tertiary);
            font-weight: 600;
            letter-spacing: 0.05em;
            text-transform: uppercase;
        }
        .card-name {
            font-size: 15px;
            font-weight: 700;
            line-height: 1.25;
            margin-top: 2px;
            color: var(--color-text);
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        .card-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-top: 8px;
        }
        .card-tag {
            font-size: 11px;
            padding: 2px 8px;
            border-radius: var(--radius-full);
            background: var(--color-surface-2);
            color: var(--color-text-secondary);
            font-weight: 500;
        }
        .card-order-tag {
            font-size: 11px;
            padding: 2px 8px;
            border-radius: var(--radius-full);
            font-weight: 600;
            color: #fff;
        }

        /* â”€â”€ Detail Modal â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .modal-backdrop {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.6);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            z-index: 200;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }
        .modal-backdrop.active { opacity: 1; pointer-events: auto; }
        .modal-sheet {
            position: fixed;
            bottom: 0; left: 0; right: 0;
            max-height: 92vh;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            background: var(--color-surface);
            border-radius: 20px 20px 0 0;
            z-index: 201;
            transform: translateY(100%);
            transition: transform 0.4s cubic-bezier(0.32,0.72,0,1);
            padding: 0 0 calc(env(safe-area-inset-bottom, 24px) + 16px);
            padding-left: env(safe-area-inset-left);
            padding-right: env(safe-area-inset-right);
        }
        .modal-sheet.active { transform: translateY(0); }
        .modal-handle {
            width: 36px;
            height: 5px;
            background: var(--color-text-tertiary);
            border-radius: 3px;
            margin: 10px auto 0;
        }
        .modal-content { padding: 16px 24px 32px; }

        .detail-header {
            display: flex;
            gap: 20px;
            align-items: flex-start;
            margin-bottom: 24px;
        }
        .detail-img {
            width: 120px;
            height: 120px;
            border-radius: var(--radius-md);
            object-fit: cover;
            border: 2px solid var(--color-border);
            flex-shrink: 0;
        }
        .detail-info { flex: 1; min-width: 0; }
        .detail-name {
            font-size: 24px;
            font-weight: 800;
            line-height: 1.15;
            letter-spacing: -0.01em;
        }
        .detail-id {
            font-size: 14px;
            color: var(--color-text-secondary);
            margin-top: 4px;
        }
        .detail-order-badge {
            display: inline-block;
            padding: 4px 14px;
            border-radius: var(--radius-full);
            font-weight: 700;
            font-size: 13px;
            color: #fff;
            margin-top: 8px;
        }

        .meta-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 12px;
            margin-bottom: 24px;
        }
        .meta-item {
            background: var(--color-surface-2);
            border-radius: var(--radius-sm);
            padding: 12px;
        }
        .meta-label {
            font-size: 11px;
            font-weight: 600;
            color: var(--color-text-tertiary);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        .meta-value {
            font-size: 15px;
            font-weight: 600;
            color: var(--color-text);
            margin-top: 2px;
        }

        .section-heading {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 12px;
            color: var(--color-accent-bright);
        }

        .editable-input {
            width: 100%;
            padding: 12px 16px;
            margin: 8px 0;
            border: 1px solid var(--color-border);
            border-radius: var(--radius-sm);
            background: var(--color-surface-2);
            color: var(--color-text);
            font-size: 16px;
            font-family: var(--font-sans);
            outline: none;
            transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
        }
        .editable-input:focus {
            border-color: var(--color-accent);
            box-shadow: 0 0 0 3px var(--color-accent-subtle);
        }
        .story-textarea {
            height: 180px;
            resize: vertical;
            line-height: 1.6;
        }
        .field-label {
            font-size: 13px;
            font-weight: 500;
            color: var(--color-text-secondary);
            margin-top: 16px;
            display: block;
        }

        .submit-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
            padding: 16px 32px;
            margin-top: 24px;
            font-size: 17px;
            font-weight: 700;
            font-family: var(--font-sans);
            color: #1C1C1E;
            background: linear-gradient(135deg, var(--color-accent-bright), var(--color-accent));
            border: none;
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: all 0.2s cubic-bezier(0.25,0.46,0.45,0.94);
            box-shadow: 0 4px 16px rgba(201,168,108,0.3);
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
            user-select: none;
            min-height: 48px;
        }
        @media (hover: hover) {
            .submit-btn:hover {
                transform: translateY(-2px);
                box-shadow: 0 6px 24px rgba(201,168,108,0.4);
            }
        }
        .submit-btn:active { transform: scale(0.97); }
        .submit-note {
            text-align: center;
            font-size: 13px;
            color: var(--color-text-tertiary);
            margin-top: 12px;
        }

        /* â”€â”€ Empty State â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .empty-state {
            display: none;
            flex-direction: column;
            align-items: center;
            padding: 64px 16px;
            text-align: center;
        }
        .empty-state.visible { display: flex; }
        .empty-icon { font-size: 56px; margin-bottom: 16px; opacity: 0.5; }
        .empty-title { font-size: 20px; font-weight: 700; margin-bottom: 8px; }
        .empty-desc { font-size: 14px; color: var(--color-text-secondary); max-width: 320px; }

        /* â”€â”€ Reduced Motion â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* â”€â”€ Mobile nav â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        @media (max-width: 768px) {
            .filter-row {
                flex-wrap: nowrap;
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
                scrollbar-width: none;
                -ms-overflow-style: none;
                padding-bottom: 4px;
            }
            .filter-row::-webkit-scrollbar { display: none; }
        }
        @media (max-width: 480px) {
            .hero { min-height: 200px; padding-top: 0; }
            .hero-text { padding: 24px 16px 20px; }
            .hero-title { font-size: clamp(1.8rem, 7vw, 2.4rem); }
            .hero-subtitle { font-size: clamp(0.85rem, 3.5vw, 1rem); }
            .search-section { padding: 14px; }
            .search-box { font-size: 16px; padding: 12px 16px; }
            .detail-header { flex-direction: column; align-items: center; text-align: center; }
            .detail-img { width: 100px; height: 100px; }
            .modal-content { padding: 16px 16px 32px; }
            .stat-pill { font-size: 12px; padding: 5px 10px; }
        }
    
/* â”€â”€ Modern Glassmorphism Nav â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.nav-bar {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 100;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 clamp(16px, 3vw, 48px);
    padding-top: env(safe-area-inset-top);
    height: 64px;
    background: rgba(10, 10, 12, 0.55);
    backdrop-filter: saturate(180%) blur(24px);
    -webkit-backdrop-filter: saturate(180%) blur(24px);
    border-bottom: 1px solid rgba(255, 215, 0, 0.08);
    box-shadow: 0 1px 12px rgba(255, 215, 0, 0.03);
    transition: background 0.4s ease, border-color 0.4s ease, box-shadow 0.4s ease;
}
.nav-bar.scrolled {
    background: rgba(10, 10, 12, 0.92);
    border-bottom-color: rgba(255, 215, 0, 0.15);
    box-shadow: 0 2px 20px rgba(255, 215, 0, 0.06);
}
.nav-logo {
    font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    font-size: 20px;
    font-weight: 700;
    color: #ffd700;
    text-decoration: none;
    letter-spacing: 0.5px;
    text-shadow: 0 0 20px rgba(255, 215, 0, 0.3), 0 0 40px rgba(255, 215, 0, 0.1);
    transition: text-shadow 0.3s ease;
    white-space: nowrap;
    flex-shrink: 0;
}
.nav-logo:hover {
    text-shadow: 0 0 24px rgba(255, 215, 0, 0.5), 0 0 48px rgba(255, 215, 0, 0.2);
}
.nav-links {
    display: flex;
    align-items: center;
    gap: 4px;
}
.nav-links a {
    position: relative;
    color: rgba(245, 245, 247, 0.55);
    text-decoration: none;
    font-size: 12px;
    font-weight: 600;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    padding: 8px 16px;
    transition: color 0.3s ease;
    -webkit-tap-highlight-color: transparent;
}
.nav-links a::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 16px;
    right: 16px;
    height: 2px;
    background: #ffd700;
    border-radius: 1px;
    transform: scaleX(0);
    transform-origin: left;
    transition: transform 0.35s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 0 6px rgba(255, 215, 0, 0.4);
}
.nav-links a:hover {
    color: rgba(245, 245, 247, 0.9);
}
.nav-links a:hover::after {
    transform: scaleX(1);
}
.nav-links a.active {
    color: #ffd700;
}
.nav-links a.active::after {
    transform: scaleX(1);
    box-shadow: 0 0 10px rgba(255, 215, 0, 0.6);
}

/* â”€â”€ Hamburger â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.nav-hamburger {
    display: none;
    width: 44px;
    height: 44px;
    align-items: center;
    justify-content: center;
    background: none;
    border: none;
    cursor: pointer;
    -webkit-tap-highlight-color: transparent;
    padding: 0;
    flex-shrink: 0;
}
.nav-hamburger-lines {
    width: 22px;
    height: 16px;
    position: relative;
}
.nav-hamburger-lines span {
    display: block;
    position: absolute;
    width: 100%;
    height: 2px;
    background: #F5F5F7;
    border-radius: 1px;
    transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1);
}
.nav-hamburger-lines span:nth-child(1) { top: 0; }
.nav-hamburger-lines span:nth-child(2) { top: 7px; }
.nav-hamburger-lines span:nth-child(3) { top: 14px; }
.nav-hamburger.is-open .nav-hamburger-lines span:nth-child(1) {
    top: 7px; transform: rotate(45deg);
}
.nav-hamburger.is-open .nav-hamburger-lines span:nth-child(2) {
    opacity: 0; transform: scaleX(0);
}
.nav-hamburger.is-open .nav-hamburger-lines span:nth-child(3) {
    top: 7px; transform: rotate(-45deg);
}

/* â”€â”€ Mobile Menu â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.nav-mobile-overlay {
    position: fixed;
    top: 64px;
    left: 0;
    right: 0;
    z-index: 99;
    background: rgba(10, 10, 12, 0.85);
    backdrop-filter: blur(40px) saturate(180%);
    -webkit-backdrop-filter: blur(40px) saturate(180%);
    border-bottom: 1px solid rgba(255, 215, 0, 0.1);
    padding: 8px 0 16px;
    display: flex;
    flex-direction: column;
    transform: translateY(-110%);
    opacity: 0;
    transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.4s ease;
    pointer-events: none;
}
.nav-mobile-overlay.open {
    transform: translateY(0);
    opacity: 1;
    pointer-events: auto;
}
.nav-mobile-overlay a {
    color: rgba(245, 245, 247, 0.6);
    text-decoration: none;
    font-size: 15px;
    font-weight: 600;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    padding: 14px 32px;
    transition: color 0.2s ease, background 0.2s ease;
    -webkit-tap-highlight-color: transparent;
}
.nav-mobile-overlay a:hover,
.nav-mobile-overlay a:active {
    color: #F5F5F7;
    background: rgba(255, 255, 255, 0.04);
}
.nav-mobile-overlay a.active {
    color: #ffd700;
}

/* â”€â”€ Mobile Responsive â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
@media (max-width: 768px) {
    .nav-links { display: none; }
    .nav-hamburger { display: flex; }
}


/* â”€â”€ GEO & FAQ Sections â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.geo-section { max-width: 900px; margin: 4rem auto; padding: 0 1.5rem; }
.geo-heading { color: #ffd700; font-size: 1.8rem; margin-bottom: 1rem; }
.geo-text { line-height: 1.8; color: #98989D; margin-bottom: 1.5rem; }
.geo-text strong { color: #F5F5F7; }
.geo-stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 1rem; margin-bottom: 2rem; }
.geo-stat { background: #1C1C1E; border-radius: 12px; padding: 1.2rem; text-align: center; }
.geo-stat-num { font-size: 2rem; color: #ffd700; font-weight: bold; }
.geo-stat-label { color: #98989D; }
.faq-item { margin-bottom: 0.8rem; background: #1C1C1E; border-radius: 8px; padding: 1rem; }
.faq-item summary { cursor: pointer; color: #F5F5F7; font-weight: 600; }
.faq-item p { margin-top: 0.5rem; color: #98989D; line-height: 1.7; }

    </style>
</head>
<body>

<nav class="nav-bar" id="mainNav">
    <a href="index.html" class="nav-logo">The Order of 86</a>
    <div class="nav-links">
        <a href="index.html" class="active">Wizards</a>
        <a href="moons.html">Moons</a>
        <a href="map.html">Map</a>
        <a href="lore.html">Lore</a>
        <a href="content.html">Content</a>
    </div>
    <button class="nav-hamburger" id="navHamburger" aria-label="Menu">
        <div class="nav-hamburger-lines"><span></span><span></span><span></span></div>
    </button>
</nav>
<div class="nav-mobile-overlay" id="navMobileMenu">
    <a href="index.html" class="active">Wizards</a>
    <a href="moons.html">Moons</a>
    <a href="map.html">Map</a>
    <a href="lore.html">Lore</a>
    <a href="content.html">Content</a>
</div>

<section class="hero" id="heroSection">
    <!-- 3D Voxel Hat -->
    <canvas id="voxelCanvas" style="position:absolute;inset:0;width:100%;height:100%;z-index:1;"></canvas>

</section>

<div class="container">
    <div class="search-section">
        <h1 class="hero-title" style="margin-bottom:8px;text-align:center;">The Order of 86</h1>
        <p class="hero-subtitle" style="margin-bottom:20px;text-align:center;">The 86 most powerful Wizard Dogs in Pawtheon, ancient wielders of the six Orders of magic, guardians of the Caninsphere.</p>
        <input type="text" class="search-box" placeholder="Search by ID, name, breed, realmâ€¦" id="searchInput" autocomplete="off">
        <div class="filter-row" id="filterRow">
            <button class="filter-chip active" data-order="all">All Orders</button>
            <button class="filter-chip" data-order="flame">ğŸ”¥ Flame</button>
            <button class="filter-chip" data-order="radiant">â˜€ï¸ Radiant</button>
            <button class="filter-chip" data-order="deep">ğŸŒŠ Deep</button>
            <button class="filter-chip" data-order="wild">ğŸŒ¿ Wild</button>
            <button class="filter-chip" data-order="arcane">ğŸ”® Arcane</button>
            <button class="filter-chip" data-order="heart">ğŸ’— Heart</button>
        </div>
        <div class="stats-bar" id="statsBar" style="margin-top:12px;"></div>
    </div>

    <div class="card-grid" id="cardGrid"></div>
    <div class="empty-state" id="emptyState">
        <div class="empty-icon">ğŸ”®</div>
        <div class="empty-title">No wizards found</div>
        <div class="empty-desc">Try a different search term or filter to discover the wizard dogs of Pawtheon.</div>
    </div>
</div>

<!-- Detail Modal -->
<div class="modal-backdrop" id="modalBackdrop"></div>
<div class="modal-sheet" id="modalSheet">
    <div class="modal-handle"></div>
    <button onclick="closeDetail()" style="position:absolute;top:12px;right:16px;background:rgba(255,255,255,0.1);border:none;color:#F5F5F7;font-size:1.4rem;width:36px;height:36px;border-radius:50%;cursor:pointer;z-index:10;display:flex;align-items:center;justify-content:center;backdrop-filter:blur(8px);" aria-label="Close">âœ•</button>
    <div class="modal-content">
        <form action="https://formsubmit.co/NoGraveStudios@gmail.com" method="POST" id="dogForm">
            <input type="hidden" name="_subject" value="The Order of 86 - Dog Submission">
            <input type="hidden" name="_captcha" value="false">
            <input type="hidden" name="_template" value="table">

            <div class="detail-header">
                <img class="detail-img" id="detailImg" src="" alt="Wizard Dog">
                <div class="detail-info">
                    <div class="detail-name" id="detailName"></div>
                    <div class="detail-id" id="detailId"></div>
                    <div class="detail-order-badge" id="detailBadge"></div>
                </div>
            </div>

            <div class="meta-grid" id="metaGrid"></div>

            <input type="hidden" name="Dog_ID" id="formDogId">
            <input type="hidden" name="Rank" id="formRank">
            <input type="hidden" name="Fur_Color" id="formFur">
            <input type="hidden" name="Pattern" id="formPattern">
            <input type="hidden" name="Eyes" id="formEyes">
            <input type="hidden" name="Clothes" id="formClothes">
            <input type="hidden" name="Realm" id="formRealm">
            <input type="hidden" name="Order" id="formOrder">

            <div class="section-heading">âœ¨ Customizable Fields</div>
            <label class="field-label" for="dogNameInput">Dog Name</label>
            <input type="text" class="editable-input" id="dogNameInput" name="Dog_Name" placeholder="Enter custom nameâ€¦">
            <label class="field-label" for="dogStoryInput">Origin Story</label>
            <textarea class="editable-input story-textarea" id="dogStoryInput" name="Origin_Story" placeholder="Write or edit the origin storyâ€¦"></textarea>

            <button type="button" class="submit-btn" disabled style="opacity:0.4;cursor:not-allowed;">ğŸ”® Submissions Coming Soon</button>
            <p class="submit-note">Sends this wizard's info to NoGraveStudios@gmail.com</p>
        </form>
    </div>
</div>

<!-- GEO: What is The Order of 86? -->
<section class="geo-section">
    <h2 class="geo-heading">What is The Order of 86?</h2>
    <p class="geo-text">The Order of 86 is a collection of <strong>86 unique wizard dog NFTs</strong> on the <strong>Doge blockchain</strong>. Each wizard dog is a one-of-a-kind digital collectible with hand-crafted lore, unique traits, and a backstory set in the fantasy world of <strong>Pawtheon</strong>.</p>

    <div class="geo-stats">
        <div class="geo-stat"><span class="geo-stat-num">86</span><br><span class="geo-stat-label">Wizard Dogs</span></div>
        <div class="geo-stat"><span class="geo-stat-num">6</span><br><span class="geo-stat-label">Orders of Magic</span></div>
        <div class="geo-stat"><span class="geo-stat-num">7</span><br><span class="geo-stat-label">Moons</span></div>
        <div class="geo-stat"><span class="geo-stat-num">6</span><br><span class="geo-stat-label">Cities</span></div>
    </div>

    <p class="geo-text">The six Orders of magic are <strong style="color:#FF6B00;">Flame</strong>, <strong style="color:#F1C40F;">Radiant</strong>, <strong style="color:#3498DB;">Deep</strong>, <strong style="color:#2ECC71;">Wild</strong>, <strong style="color:#9B6EFF;">Arcane</strong>, and <strong style="color:#FF69B4;">Heart</strong>. Explore the interactive 3D map, read the epic lore chapters, discover the seven celestial moons, or defend Pawtheon in the tower defense game.</p>

    <h2 class="geo-heading">Frequently Asked Questions</h2>
    <details class="faq-item" open>
        <summary>What is The Order of 86?</summary>
        <p>The Order of 86 is a collection of 86 unique wizard dog NFTs on the Doge blockchain. Each wizard dog belongs to one of six magical Orders and has hand-crafted lore set in the world of Pawtheon.</p>
    </details>
    <details class="faq-item">
        <summary>What blockchain is it on?</summary>
        <p>The Order of 86 lives on the Doge blockchain, known for fast, low-cost, and community-driven transactions.</p>
    </details>
    <details class="faq-item">
        <summary>How many wizard dogs are there?</summary>
        <p>There are exactly 86 wizard dogs â€” each one unique with individual traits, backstory, and magical abilities.</p>
    </details>
    <details class="faq-item">
        <summary>What are the six Orders?</summary>
        <p>The six Orders are Flame, Radiant, Deep, Wild, Arcane, and Heart. Each represents a different school of magic in Pawtheon.</p>
    </details>
    <details class="faq-item">
        <summary>What is Pawtheon?</summary>
        <p>Pawtheon is the fantasy world where the 86 wizard dogs live. It features 6 cities, 7 moons, and vast magical realms you can explore through the interactive 3D map.</p>
    </details>
</section>

<script src="wizard-dogs-data.js"></script>
<script>
// â”€â”€ Dog Data (loaded from external file) â”€â”€
// wizardDogs loaded via <script src="wizard-dogs-data.js">

// â”€â”€ Order Colors â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const orderColors = {
    Flame: 'var(--color-flame)', Wild: 'var(--color-wild)', Arcane: 'var(--color-arcane)',
    Deep: 'var(--color-deep)', Radiant: 'var(--color-radiant)', Heart: 'var(--color-heart)',
    Wanderer: 'var(--color-wanderer)'
};
const orderColorsHex = {
    Flame:'#FF6B00', Wild:'#2ECC71', Arcane:'#9B6EFF',
    Deep:'#3498DB', Radiant:'#F1C40F', Heart:'#FF69B4', Wanderer:'#9966ff'
};

// â”€â”€ Build Stats Bar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const dogs = Object.values(wizardDogs);
const orderCounts = {};
dogs.forEach(d => { orderCounts[d.order] = (orderCounts[d.order]||0)+1; });
const statsBar = document.getElementById('statsBar');
statsBar.innerHTML = `<div class="stat-pill"><strong>${dogs.length}</strong>&nbsp;Wizards</div>` +
    Object.entries(orderCounts).map(([o,c]) =>
        `<div class="stat-pill"><div class="stat-dot" style="background:${orderColorsHex[o]}"></div>${o} <strong>${c}</strong></div>`
    ).join('');

// â”€â”€ Build Card Grid â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const cardGrid = document.getElementById('cardGrid');
const emptyState = document.getElementById('emptyState');
let activeFilter = 'all';
let searchQuery = '';

function getOrderColor(order) { return orderColorsHex[order] || '#9966ff'; }

function buildCards(filteredDogs) {
    cardGrid.innerHTML = '';
    if (filteredDogs.length === 0) {
        emptyState.classList.add('visible');
        return;
    }
    emptyState.classList.remove('visible');

    filteredDogs.forEach((dog, i) => {
        const card = document.createElement('div');
        card.className = 'dog-card';
        card.dataset.id = dog.id;
        card.style.transitionDelay = `${Math.min(i * 40, 600)}ms`;
        const col = getOrderColor(dog.order);
        card.innerHTML = `
            <div class="card-accent" style="background:${col}"></div>
            <div class="card-img-wrap">
                <img src="${dog.image}" alt="${dog.suggestedName}" loading="lazy">
                <div class="card-rank-badge">#${dog.rank}</div>
            </div>
            <div class="card-body">
                <div class="card-number">#${dog.id}</div>
                <div class="card-name">${dog.suggestedName}</div>
                <div class="card-meta">
                    <span class="card-order-tag" style="background:${col}">${dog.order}</span>
                    <span class="card-tag">${dog.pattern}</span>
                    <span class="card-tag">${dog.fur}</span>
                    ${dog.twitter ? `<span class="card-tag" style="color:#1DA1F2;border-color:#1DA1F2;">ğ• ${dog.twitter}</span>` : ''}
                </div>
            </div>
        `;
        card.addEventListener('click', () => window.location.href = `/wizard/${dog.id}`);
        cardGrid.appendChild(card);
    });

    // Intersection Observer for stagger animation
    requestAnimationFrame(() => {
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(e => {
                if (e.isIntersecting) {
                    e.target.classList.add('visible');
                    observer.unobserve(e.target);
                }
            });
        }, { threshold: 0.1 });
        cardGrid.querySelectorAll('.dog-card').forEach(c => observer.observe(c));
    });
}

function filterDogs() {
    const q = searchQuery.toLowerCase();
    const filtered = dogs.filter(d => {
        if (activeFilter !== 'all' && d.order.toLowerCase() !== activeFilter) return false;
        if (!q) return true;
        return [d.id, d.suggestedName, d.fur, d.pattern, d.eyes, d.realm, d.order, d.clothes]
            .some(v => v && v.toLowerCase().includes(q));
    });
    // Sort: Wanderer (#6164) always first, then by rank
    filtered.sort((a,b) => {
        if (a.id === '6164') return -1;
        if (b.id === '6164') return 1;
        return a.rank - b.rank;
    });
    buildCards(filtered);
}

// â”€â”€ Filter Chips â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
document.querySelectorAll('.filter-chip').forEach(chip => {
    chip.addEventListener('click', () => {
        document.querySelectorAll('.filter-chip').forEach(c => c.classList.remove('active'));
        chip.classList.add('active');
        activeFilter = chip.dataset.order;
        filterDogs();
    });
});

// â”€â”€ Search â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
document.getElementById('searchInput').addEventListener('input', e => {
    searchQuery = e.target.value.trim();
    filterDogs();
});

// â”€â”€ Detail Modal â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const backdrop = document.getElementById('modalBackdrop');
const sheet = document.getElementById('modalSheet');

function openDetail(dog) {
    const col = getOrderColor(dog.order);
    document.getElementById('detailImg').src = dog.image;
    document.getElementById('detailName').textContent = dog.suggestedName;
    document.getElementById('detailId').textContent = `#${dog.id} Â· Rank ${dog.rank.toLocaleString()}`;
    const badge = document.getElementById('detailBadge');
    badge.textContent = dog.order;
    badge.style.background = col;

    const metaItems = [
        ['Fur', dog.fur], ['Pattern', dog.pattern], ['Eyes', dog.eyes],
        ['Clothes', dog.clothes], ...(dog.mouth ? [['Mouth', dog.mouth]] : []), ['Realm', dog.realm], ['Rank', '#' + dog.rank.toLocaleString()]
    ];
    // Add marketplace + twitter links
    const links = [];
    if (dog.marketplace) links.push(`<a href="${dog.marketplace}" target="_blank" rel="noopener" style="display:inline-flex;align-items:center;gap:6px;padding:8px 14px;background:#1C1C1E;border:1px solid #333;border-radius:8px;color:#ffd700;text-decoration:none;font-size:0.85rem;transition:border-color 0.2s;" onmouseover="this.style.borderColor='#ffd700'" onmouseout="this.style.borderColor='#333'">ğŸ• View on Marketplace</a>`);
    if (dog.twitter) links.push(`<a href="https://x.com/${dog.twitter.replace('@','')}" target="_blank" rel="noopener" style="display:inline-flex;align-items:center;gap:6px;padding:8px 14px;background:#1C1C1E;border:1px solid #333;border-radius:8px;color:#1DA1F2;text-decoration:none;font-size:0.85rem;transition:border-color 0.2s;" onmouseover="this.style.borderColor='#1DA1F2'" onmouseout="this.style.borderColor='#333'">ğ• ${dog.twitter}</a>`);
    links.push(`<a href="/wizard/${dog.id}" style="display:inline-flex;align-items:center;gap:6px;padding:8px 14px;background:#1C1C1E;border:1px solid #333;border-radius:8px;color:#F5F5F7;text-decoration:none;font-size:0.85rem;transition:border-color 0.2s;" onmouseover="this.style.borderColor='#F5F5F7'" onmouseout="this.style.borderColor='#333'">ğŸ“œ Full Page</a>`);

    document.getElementById('metaGrid').innerHTML = metaItems.map(([l,v]) =>
        `<div class="meta-item"><div class="meta-label">${l}</div><div class="meta-value">${v}</div></div>`
    ).join('') + (links.length ? `<div style="grid-column:1/-1;display:flex;flex-wrap:wrap;gap:8px;margin-top:8px;">${links.join('')}</div>` : '');

    document.getElementById('dogNameInput').value = dog.suggestedName;
    document.getElementById('dogStoryInput').value = dog.suggestedStory;
    document.getElementById('formDogId').value = dog.id;
    document.getElementById('formRank').value = dog.rank;
    document.getElementById('formFur').value = dog.fur;
    document.getElementById('formPattern').value = dog.pattern;
    document.getElementById('formEyes').value = dog.eyes;
    document.getElementById('formClothes').value = dog.clothes;
    document.getElementById('formRealm').value = dog.realm;
    document.getElementById('formOrder').value = dog.order;

    backdrop.classList.add('active');
    sheet.classList.add('active');
    document.body.style.overflow = 'hidden';
}

function closeDetail() {
    backdrop.classList.remove('active');
    sheet.classList.remove('active');
    document.body.style.overflow = '';
}

backdrop.addEventListener('click', closeDetail);
sheet.querySelector('.modal-handle').addEventListener('click', closeDetail);

// â”€â”€ Mobile Nav (handled by unified nav script) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

// â”€â”€ Init â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
filterDogs();
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js" defer></script>
<script>
/* â”€â”€ 3D Realm Wizard Hat â€” Detailed & Realm-Accurate â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
(function(){
    const canvas = document.getElementById('voxelCanvas');
    if (!canvas) return;

    const renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });
    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
    renderer.toneMapping = THREE.ACESFilmicToneMapping;
    renderer.toneMappingExposure = 1.2;

    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(40, 1, 0.1, 200);
    camera.position.set(0, 4, 38);

    // Rich lighting
    scene.add(new THREE.AmbientLight(0x404060, 0.6));
    const key = new THREE.DirectionalLight(0xffeedd, 1.0);
    key.position.set(8, 12, 10);
    scene.add(key);
    const fill = new THREE.DirectionalLight(0x4466aa, 0.4);
    fill.position.set(-6, -2, -6);
    scene.add(fill);
    const rim = new THREE.DirectionalLight(0xffffff, 0.3);
    rim.position.set(0, 0, -12);
    scene.add(rim);

    // â”€â”€ 6 Order Realms â”€â”€
    const REALMS = [
        { name:'Flame',   primary:0xf4762c, secondary:0xc35604, accent:0xffdd2a, glow:0xff6600, dark:0x3a1500, emblem:'fire' },
        { name:'Wild',    primary:0x2ea043, secondary:0x1a7a30, accent:0x8bef6a, glow:0x44ff44, dark:0x0a2a10, emblem:'leaf' },
        { name:'Arcane',  primary:0x7b54c9, secondary:0x5a3a9a, accent:0xc8a0ff, glow:0xaa66ff, dark:0x1a0a3a, emblem:'star' },
        { name:'Deep',    primary:0x2266cc, secondary:0x1a4a8a, accent:0x66ccff, glow:0x4488ff, dark:0x0a1a3a, emblem:'wave' },
        { name:'Radiant', primary:0xffcc00, secondary:0xcc9900, accent:0xfff4aa, glow:0xffee44, dark:0x3a2a00, emblem:'sun' },
        { name:'Heart',   primary:0xc55bb7, secondary:0x9a3a8a, accent:0xffaaee, glow:0xff66cc, dark:0x3a0a2a, emblem:'heart' }
    ];
    let realmIdx = 0, realmT = 0;
    const REALM_DURATION = 6; // seconds per realm
    const TRANSITION = 1.2;   // seconds crossfade

    const boxGeo = new THREE.BoxGeometry(0.92, 0.92, 0.92);
    const hatGroup = new THREE.Group();
    scene.add(hatGroup);

    // â”€â”€ Procedural Wizard Hat Shape (3D voxel, ~28 tall, wide brim) â”€â”€
    function generateHatVoxels() {
        const voxels = []; // {x,y,z, zone} â€” zone: 'tip','cone','band','brim','buckle','trim'
        const R = 14; // half-width

        // Pointy tip (y 24-27) â€” narrow, curved
        for (let y = 24; y <= 27; y++) {
            const w = Math.max(1, Math.round((27 - y) * 0.8 + 1));
            const d = Math.max(1, w);
            for (let x = -w; x <= w; x++) {
                for (let z = -d; z <= d; z++) {
                    if (x*x + z*z <= (w+0.5)*(w+0.5)) {
                        voxels.push({x, y, z, zone:'tip'});
                    }
                }
            }
        }
        // Tip curl â€” hat bends slightly to the right
        for (let i = 0; i < 4; i++) {
            voxels.push({x: 2+i, y: 27-i*0.3, z: 0, zone:'tip'});
            voxels.push({x: 3+i, y: 26.5-i*0.5, z: 0, zone:'tip'});
        }

        // Cone body (y 8-23) â€” smooth taper
        for (let y = 8; y <= 23; y++) {
            const t = (y - 8) / 15;
            const radius = R * (1 - t * 0.8);
            const depthR = radius * 0.7;
            for (let x = -Math.ceil(radius); x <= Math.ceil(radius); x++) {
                for (let z = -Math.ceil(depthR); z <= Math.ceil(depthR); z++) {
                    const nx = x / radius, nz = z / depthR;
                    if (nx*nx + nz*nz <= 1.05) {
                        // Hollow inside (shell only)
                        const inner = radius - 1.5;
                        const innerD = depthR - 1.5;
                        const inx = inner > 0 ? x / inner : 2, inz = innerD > 0 ? z / innerD : 2;
                        if (inner <= 0 || inx*inx + inz*inz > 1.0) {
                            voxels.push({x, y, z, zone:'cone'});
                        }
                    }
                }
            }
        }

        // Hat band (y 7-8) â€” decorative band where brim meets cone
        for (let y = 7; y <= 8; y++) {
            const radius = R + 0.5;
            const depthR = radius * 0.7;
            for (let x = -Math.ceil(radius); x <= Math.ceil(radius); x++) {
                for (let z = -Math.ceil(depthR); z <= Math.ceil(depthR); z++) {
                    const nx = x / radius, nz = z / depthR;
                    if (nx*nx + nz*nz <= 1.05) {
                        voxels.push({x, y, z, zone:'band'});
                    }
                }
            }
        }

        // Buckle / emblem (on band, front-facing)
        for (let bx = -2; bx <= 2; bx++) {
            for (let by = 7; by <= 8; by++) {
                voxels.push({x: bx, y: by, z: Math.ceil(R*0.7) + 1, zone:'buckle'});
            }
        }

        // Wide brim (y 5-6) â€” flat disc, wider than cone
        const brimR = R + 5;
        const brimD = brimR * 0.7;
        for (let y = 5; y <= 6; y++) {
            for (let x = -brimR; x <= brimR; x++) {
                for (let z = -Math.ceil(brimD); z <= Math.ceil(brimD); z++) {
                    const nx = x / brimR, nz = z / brimD;
                    if (nx*nx + nz*nz <= 1.0) {
                        voxels.push({x, y, z, zone:'brim'});
                    }
                }
            }
        }

        // Brim trim (outer edge highlight)
        for (let y = 5; y <= 6; y++) {
            for (let x = -brimR; x <= brimR; x++) {
                for (let z = -Math.ceil(brimD); z <= Math.ceil(brimD); z++) {
                    const nx = x / brimR, nz = z / brimD;
                    const d = nx*nx + nz*nz;
                    if (d > 0.85 && d <= 1.0) {
                        // Override zone to trim
                        const idx = voxels.findIndex(v => v.x===x && v.y===y && v.z===z);
                        if (idx >= 0) voxels[idx].zone = 'trim';
                    }
                }
            }
        }

        return voxels;
    }

    const hatVoxels = generateHatVoxels();

    // â”€â”€ Build instanced meshes per zone â”€â”€
    const zones = ['tip','cone','band','brim','buckle','trim'];
    const zoneMeshes = {};
    const zoneMats = {};

    zones.forEach(zone => {
        const positions = hatVoxels.filter(v => v.zone === zone);
        if (positions.length === 0) return;
        const mat = new THREE.MeshStandardMaterial({ roughness: 0.5, metalness: 0.1 });
        const mesh = new THREE.InstancedMesh(boxGeo, mat, positions.length);
        const dummy = new THREE.Object3D();
        positions.forEach((v, i) => {
            dummy.position.set(v.x, v.y - 14, v.z);
            dummy.updateMatrix();
            mesh.setMatrixAt(i, dummy.matrix);
        });
        mesh.instanceMatrix.needsUpdate = true;
        hatGroup.add(mesh);
        zoneMeshes[zone] = mesh;
        zoneMats[zone] = mat;
    });

    // â”€â”€ Floating particles around hat â”€â”€
    const PARTICLE_COUNT = 120;
    const pGeo = new THREE.BufferGeometry();
    const pPos = new Float32Array(PARTICLE_COUNT * 3);
    const pSizes = new Float32Array(PARTICLE_COUNT);
    const pPhase = new Float32Array(PARTICLE_COUNT);
    for (let i = 0; i < PARTICLE_COUNT; i++) {
        const a = Math.random() * Math.PI * 2;
        const r = 16 + Math.random() * 14;
        pPos[i*3] = Math.cos(a) * r;
        pPos[i*3+1] = (Math.random() - 0.3) * 30;
        pPos[i*3+2] = Math.sin(a) * r;
        pSizes[i] = 0.5 + Math.random() * 1.5;
        pPhase[i] = Math.random() * Math.PI * 2;
    }
    pGeo.setAttribute('position', new THREE.BufferAttribute(pPos, 3));
    const pMat = new THREE.PointsMaterial({ size: 1.2, transparent: true, opacity: 0.6, blending: THREE.AdditiveBlending, depthWrite: false });
    const particles = new THREE.Points(pGeo, pMat);
    scene.add(particles);

    // â”€â”€ Realm emblem glow ring â”€â”€
    const ringGeo = new THREE.TorusGeometry(16, 0.3, 8, 48);
    const ringMat = new THREE.MeshBasicMaterial({ transparent: true, opacity: 0.25, blending: THREE.AdditiveBlending });
    const ring = new THREE.Mesh(ringGeo, ringMat);
    ring.rotation.x = Math.PI / 2;
    ring.position.y = -8;
    scene.add(ring);

    // â”€â”€ Color lerp helper â”€â”€
    function lerpColor(a, b, t) {
        const ca = new THREE.Color(a), cb = new THREE.Color(b);
        return ca.lerp(cb, t);
    }

    // â”€â”€ Apply realm colors â”€â”€
    function applyRealm(realm, t) {
        // t is 0-1 blend factor during transitions
        const zoneColors = {
            tip:    realm.accent,
            cone:   realm.primary,
            band:   realm.dark,
            brim:   realm.secondary,
            buckle: realm.accent,
            trim:   realm.accent
        };
        zones.forEach(zone => {
            if (!zoneMats[zone]) return;
            zoneMats[zone].color.set(zoneColors[zone]);
            if (zone === 'buckle') {
                zoneMats[zone].metalness = 0.6;
                zoneMats[zone].roughness = 0.2;
                zoneMats[zone].emissive.set(realm.accent);
                zoneMats[zone].emissiveIntensity = 0.4;
            } else if (zone === 'tip') {
                zoneMats[zone].emissive.set(realm.glow);
                zoneMats[zone].emissiveIntensity = 0.3 + Math.sin(realmT * 3) * 0.15;
            } else if (zone === 'trim') {
                zoneMats[zone].emissive.set(realm.accent);
                zoneMats[zone].emissiveIntensity = 0.15;
            } else {
                zoneMats[zone].emissive.set(0x000000);
                zoneMats[zone].emissiveIntensity = 0;
            }
        });
        pMat.color.set(realm.glow);
        ringMat.color.set(realm.glow);
    }

    // Mouse tracking
    let mouseX = 0, mouseY = 0;
    document.addEventListener('mousemove', e => {
        mouseX = (e.clientX / window.innerWidth - 0.5) * 2;
        mouseY = (e.clientY / window.innerHeight - 0.5) * 2;
    });
    canvas.addEventListener('touchmove', e => {
        const t = e.touches[0];
        mouseX = (t.clientX / window.innerWidth - 0.5) * 2;
        mouseY = (t.clientY / window.innerHeight - 0.5) * 2;
    }, { passive: true });

    let time = 0;
    function resize() {
        const hero = canvas.parentElement;
        const w = hero.clientWidth;
        const h = hero.clientHeight;
        renderer.setSize(w, h);
        camera.aspect = w / h;
        camera.updateProjectionMatrix();
    }
    resize();
    window.addEventListener('resize', resize);

    function animate() {
        requestAnimationFrame(animate);
        const dt = 0.016;
        time += dt;
        realmT += dt;

        // Realm cycling
        if (realmT >= REALM_DURATION) {
            realmT = 0;
            realmIdx = (realmIdx + 1) % REALMS.length;
        }
        applyRealm(REALMS[realmIdx], 0);

        // Smooth rotation + mouse
        hatGroup.rotation.y = time * 0.15 + mouseX * 0.5;
        hatGroup.rotation.x = Math.sin(time * 0.3) * 0.08 - mouseY * 0.2;
        hatGroup.rotation.z = Math.sin(time * 0.2) * 0.03;

        // Float
        hatGroup.position.y = Math.sin(time * 0.8) * 0.8;

        // Particle orbit
        const posArr = particles.geometry.attributes.position.array;
        for (let i = 0; i < PARTICLE_COUNT; i++) {
            const phase = pPhase[i];
            const speed = 0.2 + (i % 5) * 0.05;
            const a = time * speed + phase;
            const r = 16 + Math.sin(time * 0.5 + phase) * 5;
            posArr[i*3] = Math.cos(a) * r;
            posArr[i*3+1] += Math.sin(time * 2 + phase) * 0.02;
            posArr[i*3+2] = Math.sin(a) * r;
            // Wrap Y
            if (posArr[i*3+1] > 18) posArr[i*3+1] = -12;
            if (posArr[i*3+1] < -12) posArr[i*3+1] = 18;
        }
        particles.geometry.attributes.position.needsUpdate = true;
        pMat.opacity = 0.3 + Math.sin(time * 1.5) * 0.15;

        // Ring pulse
        const rScale = 1 + Math.sin(time * 2) * 0.05;
        ring.scale.set(rScale, rScale, 1);
        ring.rotation.z = time * 0.1;
        ringMat.opacity = 0.15 + Math.sin(time * 3) * 0.08;

        renderer.render(scene, camera);
    }
    animate();
})();
</script>
<script>
(function(){
    var h=document.getElementById('navHamburger'),m=document.getElementById('navMobileMenu');
    if(h&&m){h.addEventListener('click',function(){var o=m.classList.toggle('open');h.classList.toggle('is-open',o);});}
    var nav=document.getElementById('mainNav');
    if(nav){window.addEventListener('scroll',function(){nav.classList.toggle('scrolled',window.scrollY>10);},{passive:true});}
})();
</script>
<script src="sparkle.js?v=1772131297" defer></script>
<script src="orb-cursor.js" defer></script>
<script src="starfield.js" defer></script>
</body>
</html>
